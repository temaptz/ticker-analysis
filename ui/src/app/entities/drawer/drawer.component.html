<div
  class="toggler"
  (click)="handleToggleDrawer()"
>üõ†</div>

<div
  class="drawer"
  [class.hidden]="!isDrawerOpen"
>
  <mat-button-toggle-group name="–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞" (change)="handleChangeSort($event)">
    <mat-button-toggle
      [checked]="sort() === sortModeEnum.BuyPerspective"
      [value]="sortModeEnum.BuyPerspective"
    >–ü–æ–∫—É–ø–∫–∞</mat-button-toggle>
    <mat-button-toggle
      [checked]="sort() === sortModeEnum.SellPerspective"
      [value]="sortModeEnum.SellPerspective"
    >–ü—Ä–æ–¥–∞–∂–∞</mat-button-toggle>
    <mat-button-toggle
      [checked]="sort() === sortModeEnum.LastOperation"
      [value]="sortModeEnum.LastOperation"
    >–ü–æ—Å–ª–µ–¥–Ω—è—è –æ–ø–µ—Ä–∞—Ü–∏—è</mat-button-toggle>
    <mat-button-toggle
      [checked]="sort() === sortModeEnum.MarketValue"
      [value]="sortModeEnum.MarketValue"
    >–°—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ—Ä—Ç—Ñ–µ–ª—è</mat-button-toggle>
  </mat-button-toggle-group>
</div>

@if (totalInfo.hasValue()) {
  @let info = totalInfo.value();

  <div class="total-info">
    <h5>–û—Ü–µ–Ω–µ–Ω–æ {{ info!.news_rated_week_count }} –∏–∑ {{ info!.news_week_count }} –Ω–æ–≤–æ—Å—Ç–µ–π –∑–∞ –Ω–µ–¥–µ–ª—é</h5>
    <div class="bar">
      <div [style.width.%]="info!.news_rated_week_count / info!.news_week_count * 100"></div>
    </div>

    <h5>–û—Ü–µ–Ω–µ–Ω–æ {{ info!.news_rated_month_count }} –∏–∑ {{ info!.news_month_count }} –Ω–æ–≤–æ—Å—Ç–µ–π –∑–∞ –º–µ—Å—è—Ü</h5>
    <div class="bar">
      <div [style.width.%]="info!.news_rated_month_count / info!.news_month_count * 100"></div>
    </div>

    <h5>–û—Ü–µ–Ω–µ–Ω–æ {{ info!.news_rated_count }} –∏–∑ {{ info!.news_count }} –Ω–æ–≤–æ—Å—Ç–µ–π –≤—Å–µ–≥–æ</h5>
    <div class="bar">
      <div [style.width.%]="info!.news_rated_count / info!.news_count * 100"></div>
    </div>
    {{ info | json }}
  </div>
}
