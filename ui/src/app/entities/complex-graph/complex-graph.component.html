<echarts-graph
  [option]="option()"
  [width]="width()"
  [height]="height()"
></echarts-graph>

@if (!isLoaded()) {
  <div class="preloader">
    <preloader></preloader>
  </div>
}

<!--@if (isShowNewsGraph()) {-->
<!--  <div class="news-graph">-->
<!--    <news-graph-->
<!--      [instrumentUid]="instrumentUid()"-->
<!--      [interval]="historyInterval()"-->
<!--      [historyDaysCount]="daysHistory()"-->
<!--      [futureDaysCount]="daysFuture()"-->
<!--      [width]="width()"-->
<!--      height="300px"-->
<!--    ></news-graph>-->
<!--  </div>-->
<!--}-->

@if (isShowControl()) {
  <div class="control">
    <complex-graph-control
      [historyDaysCount]="graphSettings().historyDaysCount"
      [interval]="graphSettings().interval"
      [futureDaysCount]="graphSettings().futureDaysCount"
      [isShowTechAnalysis]="isShowTechAnalysis()"
      [techAnalysisOptions]="techAnalysisOptions()"
      [isShowNews]="graphSettings().isShowNews"
      [isShowTa_1_PredictionsHistory]="graphSettings().isShowTa_1_PredictionsHistory"
      [isShowTa_1_1_PredictionsHistory]="graphSettings().isShowTa_1_1_PredictionsHistory"
      [isShowTa_1_2_PredictionsHistory]="graphSettings().isShowTa_1_2_PredictionsHistory"
      [isShowTa_2_PredictionsHistory]="graphSettings().isShowTa_2_PredictionsHistory"
      [isShowTa_2_1_PredictionsHistory]="graphSettings().isShowTa_2_1_PredictionsHistory"
      [isShowModels]="graphSettings().isShowModels"
      [isShowForecasts]="graphSettings().isShowForecasts"
      (onChange)="handleChangeControl($event)"
      (onChangeTechAnalysis)="handleChangeTechAnalysis($event)"
    ></complex-graph-control>
  </div>
}
